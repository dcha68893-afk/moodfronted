<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="manifest" href="../manifest.json">
    <meta name="theme-color" content="#4F46E5">
    <link rel="icon" href="../icons/moodchat-192.png">
    <link rel="icon" href="../icons/moodchat-512.png">
    <meta name="theme-color" content="#000000">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Groups | Knecta Chat</title>
    
    <!-- API System - LOADED FIRST -->
    <script src="/js/api.js"></script>
    <script src="/js/settingsManager.js"></script>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- QR Code Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <!-- Link CSS -->
    <link rel="stylesheet" href="group.css">

    <style>
        /* Group Purpose Styles */
        .group-purpose-tag {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
            margin-right: 5px;
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
        }
        
        .group-mood-indicator {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
            margin-right: 5px;
        }
        
        .posting-rules-banner {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
        }
        
        .group-pulse {
            display: inline-block;
            padding: 2px 6px;
            border-radius: 10px;
            font-size: 10px;
            font-weight: 500;
            margin-left: 5px;
        }
        
        .pulse-active {
            background: rgba(76, 175, 80, 0.1);
            color: #4CAF50;
        }
        
        .pulse-quiet {
            background: rgba(158, 158, 158, 0.1);
            color: #9e9e9e;
        }
        
        .participation-mode {
            padding: 6px 12px;
            border-radius: 8px;
            font-size: 12px;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: #f5f5f5;
            color: #666;
        }
        
        .mode-read-only {
            background: #e3f2fd;
            color: #1976d2;
        }
        
        .mode-react-only {
            background: #e8f5e9;
            color: #4caf50;
        }
        
        .mode-anonymous {
            background: #f3e5f5;
            color: #7b1fa2;
        }
        
        .topic-label {
            padding: 2px 6px;
            border-radius: 6px;
            font-size: 10px;
            font-weight: 500;
            margin-bottom: 3px;
            display: inline-block;
        }
        
        .topic-announcement {
            background: #e3f2fd;
            color: #1976d2;
        }
        
        .topic-question {
            background: #f3e5f5;
            color: #7b1fa2;
        }
        
        .topic-discussion {
            background: #e8f5e9;
            color: #2e7d32;
        }
        
        /* Group Pulse Animation */
        @keyframes pulse {
            0% { opacity: 0.7; }
            50% { opacity: 1; }
            100% { opacity: 0.7; }
        }
        
        .group-pulse.pulse-active {
            animation: pulse 2s infinite;
        }
        
        /* Energy Suggestion */
        .energy-suggestion {
            padding: 10px;
            border-radius: 8px;
            background: #fff3e0;
            color: #f57c00;
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        /* Admin Transparency Log */
        .admin-transparency-log {
            max-height: 200px;
            overflow-y: auto;
            padding: 10px;
            background: #f5f5f5;
            border-radius: 8px;
            font-size: 12px;
        }
        
        .transparency-log-item {
            padding: 8px;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .transparency-log-item:last-child {
            border-bottom: none;
        }
        
        /* Event Countdown */
        .event-countdown {
            padding: 10px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 8px;
            text-align: center;
        }
        
        /* Mobile Responsive */
        @media (max-width: 768px) {
            .app-container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                height: 100%;
            }
            
            .group-details-panel,
            .group-chat-panel,
            .group-call-panel {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                z-index: 100;
                background: white;
            }
            
            .mobile-back-btn {
                background: none;
                border: none;
                color: var(--text-primary);
                cursor: pointer;
                font-size: 18px;
                margin-right: 10px;
            }
        }
        
        /* Loading Animation for Instant Load */
        .instant-load .group-item {
            animation: fadeInUp 0.3s ease-out forwards;
            opacity: 0;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .group-item:nth-child(1) { animation-delay: 0.05s; }
        .group-item:nth-child(2) { animation-delay: 0.1s; }
        .group-item:nth-child(3) { animation-delay: 0.15s; }
        .group-item:nth-child(4) { animation-delay: 0.2s; }
        .group-item:nth-child(5) { animation-delay: 0.25s; }
        .group-item:nth-child(6) { animation-delay: 0.3s; }
        .group-item:nth-child(7) { animation-delay: 0.35s; }
        .group-item:nth-child(8) { animation-delay: 0.4s; }
        .group-item:nth-child(9) { animation-delay: 0.45s; }
        .group-item:nth-child(10) { animation-delay: 0.5s; }
    </style>
</head>
<body>
    <!-- Offline Overlay -->
    <div class="offline-overlay" id="offlineOverlay" style="display: none;">
        <div class="offline-icon">
            <i class="fas fa-wifi-slash"></i>
        </div>
        <div class="offline-title">You're Offline</div>
        <div class="offline-message">Some group features require internet connection to work properly.</div>
        <div class="offline-submessage">
            <i class="fas fa-info-circle"></i> You can still view your cached groups, chat with existing groups, and use most features. New group creation and syncing will work when you're back online.
        </div>
        <button class="offline-dismiss-btn" id="dismissOfflineBtn">
            <i class="fas fa-eye"></i> View Cached Groups
        </button>
    </div>
    
    <!-- Offline Indicator -->
    <div class="offline-indicator" id="offlineIndicator" style="display: none;">
        <i class="fas fa-wifi-slash"></i>
        <span>Offline</span>
    </div>
    
    <!-- Local Storage Indicator -->
    <div class="local-storage-indicator" id="localStorageIndicator" style="display: none;">
        <i class="fas fa-database"></i>
        <span>Loaded from Local Storage</span>
    </div>
    
    <div class="app-container">
        <!-- Sidebar with group list -->
        <div class="sidebar active" id="sidebar">
            <div class="sidebar-header">
                <h2>Groups</h2>
                <div style="display: flex; gap: 10px;">
                    <button class="create-group-btn" id="createGroupBtn" title="Create new group">
                        <i class="fas fa-users"></i>
                    </button>
                </div>
            </div>
            
            <div class="group-categories">
                <button class="category-btn active" id="allTab">All Groups</button>
                <button class="category-btn" id="myGroupsTab">My Groups <span class="badge" id="myGroupsCount">0</span></button>
                <button class="category-btn" id="joinedTab">Joined <span class="badge" id="joinedCount">0</span></button>
                <button class="category-btn" id="invitesTab">Invites <span class="badge" id="invitesCount">0</span></button>
                <button class="category-btn" id="adminTab">Admin <span class="badge" id="adminCount">0</span></button>
            </div>
            
            <div class="search-container">
                <div class="search-box">
                    <input type="text" class="search-input" id="groupSearch" placeholder="Search groups...">
                    <i class="fas fa-search search-icon"></i>
                </div>
            </div>
            
            <!-- Cache Indicator (shown when offline) -->
            <div class="cache-indicator" id="cacheIndicator" style="display: none;">
                <i class="fas fa-database"></i>
                <span>Showing cached groups data. Some features may be limited.</span>
            </div>
            
            <div class="group-list">
                <div class="quick-actions">
                    <button class="quick-action-btn" id="discoverGroupsBtn" title="Discover groups">
                        <div class="quick-action-icon">
                            <i class="fas fa-compass"></i>
                        </div>
                        <div class="quick-action-text">Discover</div>
                    </button>
                    <button class="quick-action-btn" id="groupInvitesBtn" title="Group invites">
                        <div class="quick-action-icon">
                            <i class="fas fa-user-plus"></i>
                        </div>
                        <div class="quick-action-text">Invites</div>
                    </button>
                    <button class="quick-action-btn" id="groupEventsBtn" title="Group events">
                        <div class="quick-action-icon">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                        <div class="quick-action-text">Events</div>
                    </button>
                </div>
                
                <!-- Group Stats -->
                <div class="group-stats">
                    <div class="stats-container">
                        <div class="stat-item">
                            <div class="stat-number" id="totalGroups">0</div>
                            <div class="stat-label">Total</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number" id="activeGroups">0</div>
                            <div class="stat-label">Active</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number" id="totalMembers">0</div>
                            <div class="stat-label">Members</div>
                        </div>
                    </div>
                </div>
                
                <!-- Type Filters -->
                <div class="type-filters">
                    <div class="type-filters-container">
                        <button class="type-filter-btn active" data-type="all">All</button>
                        <button class="type-filter-btn" data-type="public">Public</button>
                        <button class="type-filter-btn" data-type="private">Private</button>
                        <button class="type-filter-btn" data-type="secret">Secret</button>
                        <button class="type-filter-btn" data-type="family">Family</button>
                        <button class="type-filter-btn" data-type="work">Work</button>
                    </div>
                </div>
                
                <div class="group-list-content">
                    <!-- All Groups Section -->
                    <div class="groups-section active" id="allGroupsSection">
                        <div class="groups-list" id="allGroupsList">
                            <div class="loading-placeholder">
                                <i class="fas fa-spinner fa-spin"></i>
                                <p>Loading groups...</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- My Groups Section -->
                    <div class="groups-section" id="myGroupsSection">
                        <div class="groups-list" id="myGroupsList">
                            <!-- User-created groups will be loaded here -->
                        </div>
                    </div>
                    
                    <!-- Joined Groups Section -->
                    <div class="groups-section" id="joinedSection">
                        <div class="groups-list" id="joinedList">
                            <!-- Joined groups will be loaded here -->
                        </div>
                    </div>
                    
                    <!-- Invites Section -->
                    <div class="groups-section" id="invitesSection">
                        <div class="section-title">
                            <span>Group Invites</span>
                            <span class="section-count" id="invitesSectionCount">0</span>
                        </div>
                        <div class="groups-list" id="invitesList">
                            <!-- Group invites will be loaded here -->
                        </div>
                    </div>
                    
                    <!-- Admin Groups Section -->
                    <div class="groups-section" id="adminSection">
                        <div class="groups-list" id="adminList">
                            <!-- Admin groups will be loaded here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Group Details Panel -->
        <div class="group-details-panel" id="groupDetailsPanel">
            <div class="group-details-header">
                <button class="back-btn" id="backBtn">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <div class="group-details-title">Group Details</div>
                <div style="width: 40px;"></div> <!-- Spacer for alignment -->
            </div>
            
            <div class="group-details-content" id="groupDetailsContent">
                <!-- Group details will be loaded here -->
            </div>
        </div>
        
        <!-- ============================================= -->
        <!-- GROUP CHAT PANEL -->
        <!-- ============================================= -->
        <div class="group-chat-panel" id="groupChatPanel">
            <div class="chat-header">
                <div class="chat-header-info" id="chatHeaderInfo">
                    <div class="chat-header-avatar" id="chatAvatar">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="chat-header-details">
                        <div class="chat-header-title" id="chatTitle">Group Chat</div>
                        <div class="chat-header-subtitle" id="chatSubtitle">
                            <span id="chatMemberCount">0 members</span>
                            <span>‚Ä¢</span>
                            <span id="chatActive">Active now</span>
                            <!-- ADDED: Group Purpose & Pulse -->
                            <span id="chatPurposeTag" class="group-purpose-tag" style="display: none;"></span>
                            <span id="chatPulse" class="group-pulse" style="display: none;"></span>
                        </div>
                        <!-- ADDED: Group Mood & Posting Rules -->
                        <div id="chatMoodRules" style="display: none; margin-top: 4px;">
                            <span id="chatMood" class="group-mood-indicator"></span>
                            <span id="chatPostingRules" class="posting-rules-banner"></span>
                        </div>
                    </div>
                </div>
                <div class="chat-header-actions">
                    <button class="chat-header-btn" id="chatInfoBtn" title="Group Info">
                        <i class="fas fa-info-circle"></i>
                    </button>
                    <button class="chat-header-btn" id="chatCallBtn" title="Start Group Call">
                        <i class="fas fa-phone"></i>
                    </button>
                    <button class="chat-header-btn" id="closeChatBtn" title="Close Chat">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
            
            <div class="chat-messages-container" id="chatMessagesContainer">
                <div class="chat-messages" id="chatMessages">
                    <!-- Messages will be loaded here -->
                </div>
            </div>
            
            <div class="chat-input-container">
                <!-- ADDED: Topic Selection & Silent Mode -->
                <div id="topicSelection" style="display: none; padding: 5px 10px; background: var(--secondary-color); border-bottom: 1px solid var(--border-color);">
                    <select id="messageTopic" style="width: 100%; padding: 4px 8px; border-radius: 4px; border: 1px solid var(--border-color); font-size: 12px;">
                        <option value="">Select topic (optional)</option>
                        <option value="announcement">üì¢ Announcement</option>
                        <option value="question">‚ùì Question</option>
                        <option value="discussion">üí¨ Discussion</option>
                    </select>
                </div>
                <div class="chat-input-actions">
                    <button class="chat-input-btn" id="chatAttachBtn" title="Attach File">
                        <i class="fas fa-paperclip"></i>
                    </button>
                    <button class="chat-input-btn" id="chatEmojiBtn" title="Emoji">
                        <i class="far fa-smile"></i>
                    </button>
                    <!-- ADDED: Silent Participation Mode Toggle -->
                    <button class="chat-input-btn" id="silentModeBtn" title="Toggle Silent Mode" style="display: none;">
                        <i class="fas fa-eye"></i>
                    </button>
                    <!-- ADDED: Anonymous Posting Toggle -->
                    <button class="chat-input-btn" id="anonymousModeBtn" title="Toggle Anonymous Posting" style="display: none;">
                        <i class="fas fa-user-secret"></i>
                    </button>
                </div>
                <textarea class="chat-input" id="chatInput" placeholder="Type a message..." rows="1"></textarea>
                <button class="chat-input-btn send" id="chatSendBtn" title="Send Message">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
            
            <!-- ADDED: Group Notes Panel -->
            <div id="groupNotesPanel" style="display: none; border-top: 1px solid var(--border-color); padding: 15px;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                    <h4 style="margin: 0;"><i class="fas fa-sticky-note"></i> Group Notes</h4>
                    <button id="editNotesBtn" class="action-btn secondary" style="font-size: 12px; padding: 4px 8px;">
                        <i class="fas fa-edit"></i> Edit
                    </button>
                </div>
                <div id="groupNotesContent" style="min-height: 100px; max-height: 200px; overflow-y: auto; padding: 10px; background: var(--secondary-color); border-radius: 6px;">
                    <p style="margin: 0; color: var(--text-secondary);">No notes yet. Add important information here.</p>
                </div>
                <textarea id="groupNotesEditor" style="display: none; width: 100%; min-height: 100px; padding: 10px; border: 1px solid var(--border-color); border-radius: 6px; font-family: inherit; resize: vertical;"></textarea>
                <div id="notesEditorActions" style="display: none; margin-top: 10px; text-align: right;">
                    <button id="saveNotesBtn" class="action-btn success" style="font-size: 12px; padding: 4px 12px;">Save</button>
                    <button id="cancelNotesEditBtn" class="action-btn secondary" style="font-size: 12px; padding: 4px 12px; margin-left: 5px;">Cancel</button>
                </div>
            </div>
            
            <!-- ADDED: Event Countdown Panel -->
            <div id="eventCountdownPanel" style="display: none; border-top: 1px solid var(--border-color); padding: 15px;">
                <h4 style="margin: 0 0 10px 0;"><i class="fas fa-calendar-alt"></i> Event Countdown</h4>
                <div id="eventCountdownDisplay" class="event-countdown">
                    No upcoming events
                </div>
                <button id="addEventBtn" class="action-btn secondary" style="width: 100%; margin-top: 10px; font-size: 12px; padding: 6px;">
                    <i class="fas fa-plus"></i> Add Event
                </button>
            </div>
            
            <!-- ADDED: Energy Suggestion Panel -->
            <div id="energySuggestionPanel" style="display: none; border-top: 1px solid var(--border-color); padding: 15px;">
                <div class="energy-suggestion" id="energySuggestionContent">
                    <i class="fas fa-lightbulb"></i> Group is active. All good!
                </div>
            </div>
            
            <!-- ADDED: Admin Transparency Log -->
            <div id="adminTransparencyPanel" style="display: none; border-top: 1px solid var(--border-color); padding: 15px;">
                <h4 style="margin: 0 0 10px 0;"><i class="fas fa-history"></i> Recent Changes</h4>
                <div id="adminTransparencyLog" class="admin-transparency-log">
                    No recent changes
                </div>
            </div>
        </div>
        
        <!-- ============================================= -->
        <!-- GROUP CALL PANEL -->
        <!-- ============================================= -->
        <div class="group-call-panel" id="groupCallPanel">
            <div class="call-header">
                <div class="call-header-info">
                    <div>
                        <div class="call-header-title" id="callTitle">Group Call</div>
                        <div class="call-header-subtitle" id="callDuration">00:00</div>
                    </div>
                </div>
                <div class="call-header-actions">
                    <button class="call-header-btn" id="callParticipantsBtn" title="Participants">
                        <i class="fas fa-users"></i>
                    </button>
                    <button class="call-header-btn" id="callSettingsBtn" title="Settings">
                        <i class="fas fa-cog"></i>
                    </button>
                    <button class="call-header-btn" id="endCallBtn" title="End Call">
                        <i class="fas fa-phone-slash"></i>
                    </button>
                </div>
            </div>
            
            <div class="call-participants" id="callParticipants">
                <!-- Video feeds will be added here -->
            </div>
            
            <div class="call-controls">
                <button class="call-control-btn secondary" id="callMuteBtn" title="Mute/Unmute">
                    <i class="fas fa-microphone"></i>
                </button>
                <button class="call-control-btn secondary" id="callVideoBtn" title="Video On/Off">
                    <i class="fas fa-video"></i>
                </button>
                <button class="call-control-btn secondary" id="callScreenBtn" title="Share Screen">
                    <i class="fas fa-desktop"></i>
                </button>
                <button class="call-control-btn danger" id="callLeaveBtn" title="Leave Call">
                    <i class="fas fa-phone-slash"></i>
                </button>
            </div>
        </div>
    </div>
    
    <!-- Create Group Modal (UPDATED with new features) -->
    <div class="create-group-modal" id="createGroupModal">
        <div class="create-group-container">
            <div class="create-group-header">
                <h3>Create Group</h3>
                <button class="create-group-btn" id="closeCreateGroupModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="create-group-tabs">
                <button class="create-group-tab active" data-tab="basic">Basic</button>
                <button class="create-group-tab" data-tab="settings">Settings</button>
                <button class="create-group-tab" data-tab="purpose">Purpose</button>
                <button class="create-group-tab" data-tab="theme">Theme</button>
            </div>
            
            <div class="create-group-content">
                <!-- Basic Tab -->
                <div class="create-group-tab-content active" id="basicTab">
                    <div class="input-group">
                        <label class="input-label">Group Name *</label>
                        <input type="text" class="text-input" id="groupNameInput" placeholder="Enter group name" maxlength="100">
                    </div>
                    
                    <div class="input-group">
                        <label class="input-label">Group Description</label>
                        <textarea class="text-input" id="groupDescriptionInput" placeholder="Describe the purpose of this group..." rows="3"></textarea>
                    </div>
                    
                    <div class="input-group">
                        <label class="input-label">Group Topic (Optional)</label>
                        <input type="text" class="text-input" id="groupTopicInput" placeholder="#family #gaming #work">
                        <div style="font-size: 12px; color: var(--text-secondary); margin-top: 5px;">Add topics to help others discover your group</div>
                    </div>
                    
                    <div class="input-group">
                        <label class="input-label">Group Type</label>
                        <select class="text-input" id="groupTypeSelect">
                            <option value="public">Public - Anyone can join</option>
                            <option value="private" selected>Private - Invite only</option>
                            <option value="secret">Secret - Hidden and invite only</option>
                        </select>
                    </div>
                </div>
                
                <!-- Settings Tab -->
                <div class="create-group-tab-content" id="settingsTab">
                    <div class="input-group">
                        <label class="input-label">Welcome Message</label>
                        <textarea class="text-input" id="welcomeMessageInput" placeholder="Welcome message for new members..." rows="3"></textarea>
                        <div style="font-size: 12px; color: var(--text-secondary); margin-top: 5px;">This message will be shown to new members when they join</div>
                    </div>
                    
                    <div class="input-group">
                        <label class="input-label">Group Rules</label>
                        <textarea class="text-input" id="groupRulesInput" placeholder="Add group rules (one per line)..." rows="5">1. Be respectful to all members
2. No spam or self-promotion
3. Keep discussions relevant to the group topic
4. No hate speech or harassment</textarea>
                    </div>
                    
                    <div class="input-group">
                        <label class="input-label">Moderation Settings</label>
                        <div style="margin-top: 10px;">
                            <label style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                                <input type="checkbox" id="approveNewMembers" checked>
                                <span>Approve new members before they can join</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                                <input type="checkbox" id="onlyAdminsCanPost" checked>
                                <span>Only admins can post messages</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                                <input type="checkbox" id="allowMediaSharing" checked>
                                <span>Allow media sharing</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 10px;">
                                <input type="checkbox" id="enableDisappearingMessages">
                                <span>Enable disappearing messages (24 hours)</span>
                            </label>
                        </div>
                    </div>
                </div>
                
                <!-- ADDED: Purpose Tab with New Features -->
                <div class="create-group-tab-content" id="purposeTab">
                    <div class="input-group">
                        <label class="input-label">Group Purpose *</label>
                        <select class="text-input" id="groupPurposeSelect">
                            <option value="">Select a purpose</option>
                            <option value="study">üìö Study / Learning</option>
                            <option value="prayer">üôè Prayer / Spiritual</option>
                            <option value="work">üíº Work / Professional</option>
                            <option value="family">üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Family</option>
                            <option value="event">üéâ Event / Celebration</option>
                            <option value="project">üìã Project Collaboration</option>
                            <option value="support">ü§ù Support Group</option>
                            <option value="hobby">üé® Hobby / Interest</option>
                            <option value="fitness">üí™ Fitness / Health</option>
                            <option value="other">üîÆ Other</option>
                        </select>
                        <div style="font-size: 12px; color: var(--text-secondary); margin-top: 5px;">This helps members understand the group's focus</div>
                    </div>
                    
                    <div class="input-group">
                        <label class="input-label">Default Group Mood</label>
                        <div style="display: flex; gap: 10px; margin-top: 10px; flex-wrap: wrap;">
                            <div class="mood-option" data-mood="calm" style="flex: 1; min-width: 100px; padding: 12px; border: 2px solid var(--border-color); border-radius: 8px; text-align: center; cursor: pointer; background: #e3f2fd; color: #1976d2;">
                                <i class="fas fa-check" style="display: none;"></i>
                                <div>üòå Calm</div>
                            </div>
                            <div class="mood-option" data-mood="busy" style="flex: 1; min-width: 100px; padding: 12px; border: 2px solid var(--border-color); border-radius: 8px; text-align: center; cursor: pointer; background: #fff3e0; color: #f57c00;">
                                <i class="fas fa-check" style="display: none;"></i>
                                <div>üèÉ Busy</div>
                            </div>
                            <div class="mood-option" data-mood="celebratory" style="flex: 1; min-width: 100px; padding: 12px; border: 2px solid var(--border-color); border-radius: 8px; text-align: center; cursor: pointer; background: #fce4ec; color: #c2185b;">
                                <i class="fas fa-check" style="display: none;"></i>
                                <div>üéâ Celebratory</div>
                            </div>
                            <div class="mood-option" data-mood="silent" style="flex: 1; min-width: 100px; padding: 12px; border: 2px solid var(--border-color); border-radius: 8px; text-align: center; cursor: pointer; background: #f5f5f5; color: #616161;">
                                <i class="fas fa-check" style="display: none;"></i>
                                <div>üîá Silent</div>
                            </div>
                            <div class="mood-option" data-mood="urgent" style="flex: 1; min-width: 100px; padding: 12px; border: 2px solid var(--border-color); border-radius: 8px; text-align: center; cursor: pointer; background: #ffebee; color: #d32f2f;">
                                <i class="fas fa-check" style="display: none;"></i>
                                <div>üö® Urgent</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label class="input-label">Posting Rules Mode</label>
                        <select class="text-input" id="postingRulesSelect">
                            <option value="everyone">Everyone can post</option>
                            <option value="admin_only">Admin-only posting</option>
                            <option value="scheduled">Scheduled posting times</option>
                            <option value="quiet_hours">Quiet hours enabled</option>
                        </select>
                        <div style="font-size: 12px; color: var(--text-secondary); margin-top: 5px;">Controls who can post and when</div>
                    </div>
                    
                    <div class="input-group" id="quietHoursSection" style="display: none;">
                        <label class="input-label">Quiet Hours</label>
                        <div style="display: flex; gap: 10px;">
                            <input type="time" class="text-input" id="quietStartTime" value="22:00">
                            <span>to</span>
                            <input type="time" class="text-input" id="quietEndTime" value="08:00">
                        </div>
                    </div>
                    
                    <div class="input-group" id="scheduledPostingSection" style="display: none;">
                        <label class="input-label">Allowed Posting Times</label>
                        <div style="display: flex; gap: 10px;">
                            <input type="time" class="text-input" id="postingStartTime" value="09:00">
                            <span>to</span>
                            <input type="time" class="text-input" id="postingEndTime" value="18:00">
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label class="input-label">Enable Silent Participation</label>
                        <div style="margin-top: 10px;">
                            <label style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                                <input type="checkbox" id="enableReadOnlyMode">
                                <span>Allow read-only mode for members</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                                <input type="checkbox" id="enableReactOnlyMode">
                                <span>Allow react-only participation</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 10px;">
                                <input type="checkbox" id="enableAnonymousMode">
                                <span>Allow anonymous posting (optional)</span>
                            </label>
                        </div>
                    </div>
                </div>
                
                <!-- Theme Tab -->
                <div class="create-group-tab-content" id="themeTab">
                    <div class="input-group">
                        <label class="input-label">Group Theme Color</label>
                        <div style="display: flex; gap: 10px; margin-top: 10px; flex-wrap: wrap;">
                            <div class="theme-option" data-theme="blue" style="flex: 1; min-width: 100px; padding: 15px; border: 2px solid var(--border-color); border-radius: 8px; text-align: center; cursor: pointer; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                                <i class="fas fa-check" style="display: none;"></i>
                                <div>Blue</div>
                            </div>
                            <div class="theme-option" data-theme="green" style="flex: 1; min-width: 100px; padding: 15px; border: 2px solid var(--border-color); border-radius: 8px; text-align: center; cursor: pointer; background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%); color: white;">
                                <i class="fas fa-check" style="display: none;"></i>
                                <div>Green</div>
                            </div>
                            <div class="theme-option" data-theme="red" style="flex: 1; min-width: 100px; padding: 15px; border: 2px solid var(--border-color); border-radius: 8px; text-align: center; cursor: pointer; background: linear-gradient(135deg, #ff416c 0%, #ff4b2b 100%); color: white;">
                                <i class="fas fa-check" style="display: none;"></i>
                                <div>Red</div>
                            </div>
                            <div class="theme-option" data-theme="purple" style="flex: 1; min-width: 100px; padding: 15px; border: 2px solid var(--border-color); border-radius: 8px; text-align: center; cursor: pointer; background: linear-gradient(135deg, #8a2387 0%, #f27121 100%); color: white;">
                                <i class="fas fa-check" style="display: none;"></i>
                                <div>Purple</div>
                            </div>
                            <div class="theme-option" data-theme="dark" style="flex: 1; min-width: 100px; padding: 15px; border: 2px solid var(--border-color); border-radius: 8px; text-align: center; cursor: pointer; background: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%); color: white;">
                                <i class="fas fa-check" style="display: none;"></i>
                                <div>Dark</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label class="input-label">Custom Reactions (Optional)</label>
                        <div style="display: flex; gap: 10px; margin-top: 10px; flex-wrap: wrap;">
                            <div class="reaction-option" data-reaction="üëç" style="padding: 10px; border: 1px solid var(--border-color); border-radius: 8px; cursor: pointer; text-align: center; font-size: 20px;">
                                üëç
                            </div>
                            <div class="reaction-option" data-reaction="‚ù§Ô∏è" style="padding: 10px; border: 1px solid var(--border-color); border-radius: 8px; cursor: pointer; text-align: center; font-size: 20px;">
                                ‚ù§Ô∏è
                            </div>
                            <div class="reaction-option" data-reaction="üòÇ" style="padding: 10px; border: 1px solid var(--border-color); border-radius: 8px; cursor: pointer; text-align: center; font-size: 20px;">
                                üòÇ
                            </div>
                            <div class="reaction-option" data-reaction="üôè" style="padding: 10px; border: 1px solid var(--border-color); border-radius: 8px; cursor: pointer; text-align: center; font-size: 20px;">
                                üôè
                            </div>
                            <div class="reaction-option" data-reaction="üî•" style="padding: 10px; border: 1px solid var(--border-color); border-radius: 8px; cursor: pointer; text-align: center; font-size: 20px;">
                                üî•
                            </div>
                            <div class="reaction-option" data-reaction="üëè" style="padding: 10px; border: 1px solid var(--border-color); border-radius: 8px; cursor: pointer; text-align: center; font-size: 20px;">
                                üëè
                            </div>
                        </div>
                        <div style="font-size: 12px; color: var(--text-secondary); margin-top: 5px;">Select custom reactions for your group</div>
                    </div>
                    
                    <div class="input-group">
                        <label class="input-label">Group Badges</label>
                        <div style="display: flex; gap: 10px; margin-top: 10px; flex-wrap: wrap;">
                            <div class="badge-option" data-badge="star" style="padding: 10px; border: 1px solid var(--border-color); border-radius: 8px; cursor: pointer; text-align: center;">
                                <i class="fas fa-star" style="color: gold;"></i>
                                <div style="font-size: 12px; margin-top: 5px;">Helpful</div>
                            </div>
                            <div class="badge-option" data-badge="fire" style="padding: 10px; border: 1px solid var(--border-color); border-radius: 8px; cursor: pointer; text-align: center;">
                                <i class="fas fa-fire" style="color: orange;"></i>
                                <div style="font-size: 12px; margin-top: 5px;">Active</div>
                            </div>
                            <div class="badge-option" data-badge="crown" style="padding: 10px; border: 1px solid var(--border-color); border-radius: 8px; cursor: pointer; text-align: center;">
                                <i class="fas fa-crown" style="color: purple;"></i>
                                <div style="font-size: 12px; margin-top: 5px;">Moderator</div>
                            </div>
                            <div class="badge-option" data-badge="heart" style="padding: 10px; border: 1px solid var(--border-color); border-radius: 8px; cursor: pointer; text-align: center;">
                                <i class="fas fa-heart" style="color: red;"></i>
                                <div style="font-size: 12px; margin-top: 5px;">Supporter</div>
                            </div>
                        </div>
                        <div style="font-size: 12px; color: var(--text-secondary); margin-top: 5px;">Select badges that admins can award to members</div>
                    </div>
                </div>
            </div>
            
            <div style="padding: 20px; border-top: 1px solid var(--border-color); display: flex; justify-content: space-between;">
                <button class="action-btn secondary" id="cancelCreateGroupBtn">Cancel</button>
                <button class="action-btn success" id="createGroupBtnModal">Create Group</button>
            </div>
        </div>
    </div>
    
    <!-- ============================================= -->
    <!-- ADMIN MANAGEMENT MODAL (UPDATED with transparency features) -->
    <!-- ============================================= -->
    <div class="admin-management-modal" id="adminManagementModal">
        <div class="admin-management-container">
            <div class="admin-management-header">
                <h3>Group Management</h3>
                <div id="adminManagementGroupName" style="opacity: 0.9; font-size: 14px;"></div>
            </div>
            
            <div class="admin-management-tabs">
                <button class="admin-management-tab active" data-tab="members">Members</button>
                <button class="admin-management-tab" data-tab="settings">Settings</button>
                <button class="admin-management-tab" data-tab="purpose">Purpose</button>
                <button class="admin-management-tab" data-tab="analytics">Analytics</button>
                <button class="admin-management-tab" data-tab="transparency">Transparency</button>
            </div>
            
            <div class="admin-management-content">
                <!-- Members Tab -->
                <div class="admin-management-section active" id="adminMembersTab">
                    <div class="admin-actions">
                        <button class="admin-action-btn" id="adminAddMemberBtn">
                            <i class="fas fa-user-plus"></i> Add Member
                        </button>
                        <button class="admin-action-btn" id="adminInviteLinkBtn">
                            <i class="fas fa-link"></i> Manage Invite Links
                        </button>
                        <button class="admin-action-btn" id="adminExportMembersBtn">
                            <i class="fas fa-download"></i> Export Members
                        </button>
                    </div>
                    
                    <div class="member-management-list" id="memberManagementList">
                        <!-- Members will be loaded here -->
                    </div>
                </div>
                
                <!-- Settings Tab -->
                <div class="admin-management-section" id="adminSettingsTab">
                    <div class="admin-settings-form">
                        <div class="admin-settings-group">
                            <div class="admin-settings-title">
                                <i class="fas fa-lock"></i>
                                Privacy Settings
                            </div>
                            <div class="admin-settings-option">
                                <label class="admin-settings-label">
                                    <input type="checkbox" id="adminPublicGroup" data-setting="publicGroup">
                                    <span>Make group public (anyone can join)</span>
                                </label>
                            </div>
                            <div class="admin-settings-option">
                                <label class="admin-settings-label">
                                    <input type="checkbox" id="adminApproveMembers" data-setting="approveMembers" checked>
                                    <span>Approve new members before joining</span>
                                </label>
                            </div>
                            <div class="admin-settings-option">
                                <label class="admin-settings-label">
                                    <input type="checkbox" id="adminAllowInvites" data-setting="allowInvites" checked>
                                    <span>Allow members to invite others</span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="admin-settings-group">
                            <div class="admin-settings-title">
                                <i class="fas fa-comments"></i>
                                Chat Settings
                            </div>
                            <div class="admin-settings-option">
                                <label class="admin-settings-label">
                                    <input type="checkbox" id="adminOnlyAdminsPost" data-setting="onlyAdminsPost">
                                    <span>Only admins can post messages</span>
                                </label>
                            </div>
                            <div class="admin-settings-option">
                                <label class="admin-settings-label">
                                    <input type="checkbox" id="adminAllowMedia" data-setting="allowMedia" checked>
                                    <span>Allow media sharing</span>
                                </label>
                            </div>
                            <div class="admin-settings-option">
                                <label class="admin-settings-label">
                                    <input type="checkbox" id="adminDisappearingMessages" data-setting="disappearingMessages">
                                    <span>Enable disappearing messages (24h)</span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="admin-settings-group">
                            <div class="admin-settings-title">
                                <i class="fas fa-bell"></i>
                                Notification Settings
                            </div>
                            <div class="admin-settings-option">
                                <label class="admin-settings-label">
                                    <input type="checkbox" id="adminMentionNotifications" data-setting="mentionNotifications" checked>
                                    <span>Send notifications for @mentions</span>
                                </label>
                            </div>
                            <div class="admin-settings-option">
                                <label class="admin-settings-label">
                                    <input type="checkbox" id="adminAnnouncementNotifications" data-setting="announcementNotifications" checked>
                                    <span>Send notifications for announcements</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- ADDED: Purpose Management Tab -->
                <div class="admin-management-section" id="adminPurposeTab">
                    <div class="admin-settings-form">
                        <div class="admin-settings-group">
                            <div class="admin-settings-title">
                                <i class="fas fa-bullseye"></i>
                                Group Purpose & Mood
                            </div>
                            <div class="admin-settings-option">
                                <label class="admin-settings-label">Update Group Purpose:</label>
                                <select class="text-input" id="adminGroupPurpose" style="margin-top: 8px; width: 100%;">
                                    <option value="">Select purpose</option>
                                    <option value="study">üìö Study / Learning</option>
                                    <option value="prayer">üôè Prayer / Spiritual</option>
                                    <option value="work">üíº Work / Professional</option>
                                    <option value="family">üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Family</option>
                                    <option value="event">üéâ Event / Celebration</option>
                                    <option value="project">üìã Project Collaboration</option>
                                    <option value="support">ü§ù Support Group</option>
                                    <option value="hobby">üé® Hobby / Interest</option>
                                    <option value="fitness">üí™ Fitness / Health</option>
                                    <option value="other">üîÆ Other</option>
                                </select>
                            </div>
                            <div class="admin-settings-option">
                                <label class="admin-settings-label">Current Group Mood:</label>
                                <div style="display: flex; gap: 10px; margin-top: 8px; flex-wrap: wrap;">
                                    <button class="mood-select-btn" data-mood="calm" style="padding: 8px 12px; border: 1px solid #1976d2; border-radius: 6px; background: #e3f2fd; color: #1976d2; cursor: pointer;">üòå Calm</button>
                                    <button class="mood-select-btn" data-mood="busy" style="padding: 8px 12px; border: 1px solid #f57c00; border-radius: 6px; background: #fff3e0; color: #f57c00; cursor: pointer;">üèÉ Busy</button>
                                    <button class="mood-select-btn" data-mood="celebratory" style="padding: 8px 12px; border: 1px solid #c2185b; border-radius: 6px; background: #fce4ec; color: #c2185b; cursor: pointer;">üéâ Celebratory</button>
                                    <button class="mood-select-btn" data-mood="silent" style="padding: 8px 12px; border: 1px solid #616161; border-radius: 6px; background: #f5f5f5; color: #616161; cursor: pointer;">üîá Silent</button>
                                    <button class="mood-select-btn" data-mood="urgent" style="padding: 8px 12px; border: 1px solid #d32f2f; border-radius: 6px; background: #ffebee; color: #d32f2f; cursor: pointer;">üö® Urgent</button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="admin-settings-group">
                            <div class="admin-settings-title">
                                <i class="fas fa-comment-slash"></i>
                                Posting Rules
                            </div>
                            <div class="admin-settings-option">
                                <label class="admin-settings-label">Posting Mode:</label>
                                <select class="text-input" id="adminPostingMode" style="margin-top: 8px; width: 100%;">
                                    <option value="everyone">Everyone can post</option>
                                    <option value="admin_only">Admin-only posting</option>
                                    <option value="scheduled">Scheduled posting times</option>
                                    <option value="quiet_hours">Quiet hours enabled</option>
                                </select>
                            </div>
                            <div class="admin-settings-option" id="adminQuietHoursSection" style="display: none;">
                                <label class="admin-settings-label">Quiet Hours:</label>
                                <div style="display: flex; gap: 10px; margin-top: 8px; align-items: center;">
                                    <input type="time" class="text-input" id="adminQuietStart" style="flex: 1;" value="22:00">
                                    <span>to</span>
                                    <input type="time" class="text-input" id="adminQuietEnd" style="flex: 1;" value="08:00">
                                </div>
                            </div>
                            <div class="admin-settings-option" id="adminScheduledPostingSection" style="display: none;">
                                <label class="admin-settings-label">Allowed Posting Times:</label>
                                <div style="display: flex; gap: 10px; margin-top: 8px; align-items: center;">
                                    <input type="time" class="text-input" id="adminPostingStart" style="flex: 1;" value="09:00">
                                    <span>to</span>
                                    <input type="time" class="text-input" id="adminPostingEnd" style="flex: 1;" value="18:00">
                                </div>
                            </div>
                        </div>
                        
                        <div class="admin-settings-group">
                            <div class="admin-settings-title">
                                <i class="fas fa-user-secret"></i>
                                Participation Modes
                            </div>
                            <div class="admin-settings-option">
                                <label class="admin-settings-label">
                                    <input type="checkbox" id="adminEnableReadOnly">
                                    <span>Allow read-only mode for members</span>
                                </label>
                            </div>
                            <div class="admin-settings-option">
                                <label class="admin-settings-label">
                                    <input type="checkbox" id="adminEnableReactOnly">
                                    <span>Allow react-only participation</span>
                                </label>
                            </div>
                            <div class="admin-settings-option">
                                <label class="admin-settings-label">
                                    <input type="checkbox" id="adminEnableAnonymous">
                                    <span>Allow anonymous posting</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Analytics Tab -->
                <div class="admin-management-section" id="adminAnalyticsTab">
                    <div class="admin-analytics-content">
                        <div class="admin-analytics-stats">
                            <div class="analytics-stat">
                                <div class="analytics-stat-number" id="analyticsDailyMessages">0</div>
                                <div class="analytics-stat-label">Messages Today</div>
                            </div>
                            <div class="analytics-stat">
                                <div class="analytics-stat-number" id="analyticsActiveMembers">0</div>
                                <div class="analytics-stat-label">Active Members</div>
                            </div>
                            <div class="analytics-stat">
                                <div class="analytics-stat-number" id="analyticsEngagementRate">0%</div>
                                <div class="analytics-stat-label">Engagement Rate</div>
                            </div>
                        </div>
                        <div class="admin-analytics-chart">
                            <canvas id="analyticsChart" width="400" height="200" style="max-width: 100%;"></canvas>
                        </div>
                        <div class="admin-analytics-insights">
                            <h4>Group Pulse Insights</h4>
                            <div id="groupPulseInsight" style="padding: 10px; background: var(--secondary-color); border-radius: 8px; margin-top: 10px;">
                                <p style="margin: 0;">Loading group pulse analysis...</p>
                            </div>
                            <button id="refreshAnalyticsBtn" class="action-btn secondary" style="margin-top: 15px; width: 100%;">
                                <i class="fas fa-sync-alt"></i> Refresh Analytics
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- ADDED: Transparency Tab -->
                <div class="admin-management-section" id="adminTransparencyTab">
                    <div class="admin-transparency-content">
                        <div class="admin-settings-group">
                            <div class="admin-settings-title">
                                <i class="fas fa-history"></i>
                                Change History
                            </div>
                            <div id="transparencyLog" style="max-height: 300px; overflow-y: auto; padding: 10px; background: var(--secondary-color); border-radius: 8px;">
                                <div class="transparency-log-item">
                                    <div><strong>Group created</strong></div>
                                    <div style="font-size: 12px; color: var(--text-secondary);">By you ‚Ä¢ Just now</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="admin-settings-group">
                            <div class="admin-settings-title">
                                <i class="fas fa-eye"></i>
                                Visibility Settings
                            </div>
                            <div class="admin-settings-option">
                                <label class="admin-settings-label">
                                    <input type="checkbox" id="adminShowChangeHistory" checked>
                                    <span>Show change history to members</span>
                                </label>
                            </div>
                            <div class="admin-settings-option">
                                <label class="admin-settings-label">
                                    <input type="checkbox" id="adminShowAdminActions" checked>
                                    <span>Show admin actions to members</span>
                                </label>
                            </div>
                            <div class="admin-settings-option">
                                <label class="admin-settings-label">
                                    <input type="checkbox" id="adminShowModerationLog">
                                    <span>Show moderation actions (mutes, bans)</span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="admin-settings-group">
                            <div class="admin-settings-title">
                                <i class="fas fa-download"></i>
                                Export Data
                            </div>
                            <div style="margin-top: 10px;">
                                <button class="admin-action-btn" id="exportTransparencyLog">
                                    <i class="fas fa-file-export"></i> Export Change History
                                </button>
                                <button class="admin-action-btn" id="exportSettingsHistory">
                                    <i class="fas fa-cog"></i> Export Settings History
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div style="padding: 20px; border-top: 1px solid var(--border-color); display: flex; justify-content: space-between;">
                <button class="action-btn secondary" id="closeAdminManagementBtn">Close</button>
                <button class="action-btn success" id="saveAdminSettingsBtn">Save Changes</button>
            </div>
        </div>
    </div>
    
    <!-- Friend Selection Modal -->
    <div class="friend-selection-modal" id="friendSelectionModal">
        <div class="friend-selection-container">
            <div class="friend-selection-header">
                <h3>Select Friends</h3>
                <p>Choose friends to add to your group</p>
            </div>
            <div class="friend-selection-content" id="friendSelectionContent">
                <div class="loading-placeholder">
                    <i class="fas fa-spinner fa-spin"></i>
                    <p>Loading friends...</p>
                </div>
            </div>
            <div style="padding: 20px; border-top: 1px solid var(--border-color); display: flex; justify-content: space-between;">
                <button class="action-btn secondary" id="cancelFriendSelectionBtn">Cancel</button>
                <button class="action-btn success" id="confirmFriendSelectionBtn">Add Selected Friends</button>
            </div>
        </div>
    </div>
    
    <!-- Group Invite Modal -->
    <div class="group-invite-modal" id="groupInviteModal">
        <div class="group-invite-container">
            <div class="group-invite-header">
                <div class="group-invite-avatar" id="inviteAvatar">
                    <i class="fas fa-users"></i>
                </div>
                <div class="group-invite-name" id="inviteName">Family Chat</div>
                <!-- ADDED: Purpose and Mood in Invite -->
                <div class="group-purpose-tag" id="invitePurpose" style="margin: 5px 0;"></div>
                <div class="group-mood-indicator" id="inviteMood" style="margin: 5px 0;"></div>
                <div class="group-invite-topic" id="inviteTopic">#family #updates</div>
                <div class="member-count-badge" id="inviteMemberCount">
                    <i class="fas fa-users"></i> 12 members
                </div>
                <div style="font-size: 14px; color: var(--text-secondary); margin-bottom: 20px;">
                    Invited by <span id="invitedBy">John Doe</span>
                </div>
            </div>
            
            <div class="group-invite-actions">
                <button class="group-invite-btn decline" id="declineInviteBtn">
                    <i class="fas fa-times"></i> Decline
                </button>
                <button class="group-invite-btn accept" id="acceptInviteBtn">
                    <i class="fas fa-check"></i> Join Group
                </button>
            </div>
        </div>
    </div>
    
    <!-- Notification -->
    <div class="notification" id="notification">
        <i class="fas fa-check-circle"></i>
        <span id="notificationText">Operation completed successfully</span>
    </div>

    <script type="module" src="group.js"></script>
</body>
</html>