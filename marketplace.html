<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#000000">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>kynecta - Marketplace</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-storage-compat.js"></script>
    
    <!-- Firebase Configuration Module -->
    <script type="module" src="./firebase-config.js"></script>
    
    <!-- Auth Listener Module -->
    <script type="module" src="./auth-listener.js"></script>
    
    <!-- External CSS -->
    <link rel="stylesheet" href="marketplace.css">

</head>
<body class="min-h-screen pb-16 overflow-x-hidden">
    <!-- Safety Guidelines Popup -->
    <div id="safetyPopup" class="modal">
        <div class="modal-content max-w-2xl">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-gray-900 dark:text-white">Safe Trading Guidelines</h2>
                <button id="closeSafetyPopup" class="text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            
            <div class="space-y-4">
                <div class="bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4">
                    <div class="flex items-center mb-2">
                        <i class="fas fa-exclamation-triangle text-yellow-500 mr-2"></i>
                        <h3 class="font-semibold text-yellow-800 dark:text-yellow-200">Important Safety Information</h3>
                    </div>
                    <p class="text-yellow-700 dark:text-yellow-300 text-sm">
                        Your safety is our priority. Please follow these guidelines for secure transactions.
                    </p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4">
                        <div class="flex items-center mb-2">
                            <i class="fas fa-map-marker-alt text-blue-500 mr-2"></i>
                            <h4 class="font-semibold text-blue-800 dark:text-blue-200">Meet in Public Places</h4>
                        </div>
                        <p class="text-blue-700 dark:text-blue-300 text-sm">
                            Always meet in well-lit, public areas like campus quads, coffee shops, or shopping centers.
                        </p>
                    </div>
                    
                    <div class="bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4">
                        <div class="flex items-center mb-2">
                            <i class="fas fa-search text-green-500 mr-2"></i>
                            <h4 class="font-semibold text-green-800 dark:text-green-200">Inspect Before Payment</h4>
                        </div>
                        <p class="text-green-700 dark:text-green-300 text-sm">
                            Thoroughly check items before making any payment. Don't pay for items you haven't seen.
                        </p>
                    </div>
                    
                    <div class="bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4">
                        <div class="flex items-center mb-2">
                            <i class="fas fa-money-bill-wave text-red-500 mr-2"></i>
                            <h4 class="font-semibold text-red-800 dark:text-red-200">Avoid Advance Payments</h4>
                        </div>
                        <p class="text-red-700 dark:text-red-300 text-sm">
                            Never send money in advance. Pay only when you receive the item in person.
                        </p>
                    </div>
                    
                    <div class="bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg p-4">
                        <div class="flex items-center mb-2">
                            <i class="fas fa-user-shield text-purple-500 mr-2"></i>
                            <h4 class="font-semibold text-purple-800 dark:text-purple-200">Verify Seller Identity</h4>
                        </div>
                        <p class="text-purple-700 dark:text-purple-300 text-sm">
                            Check seller ratings and verification status. Report suspicious activity immediately.
                        </p>
                    </div>
                </div>
                
                <div class="bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4">
                    <h4 class="font-semibold text-gray-800 dark:text-gray-200 mb-2">Emergency Contacts</h4>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-2 text-sm">
                        <div class="flex justify-between">
                            <span class="text-gray-600 dark:text-gray-400">Campus Security:</span>
                            <span class="font-medium">(555) 123-4567</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-600 dark:text-gray-400">Local Police:</span>
                            <span class="font-medium">911</span>
                        </div>
                    </div>
                </div>
                
                <div class="flex items-center mt-4">
                    <input type="checkbox" id="dontShowAgain" class="h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded">
                    <label for="dontShowAgain" class="ml-2 text-sm text-gray-600 dark:text-gray-400">
                        Don't show this message again
                    </label>
                </div>
                
                <div class="flex justify-end mt-6">
                    <button id="confirmSafetyGuidelines" class="bg-indigo-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-indigo-700 transition">
                        I Understand
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Contact Seller Modal -->
    <div id="contactSellerModal" class="modal">
        <div class="modal-content max-w-md">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-gray-900 dark:text-white">Contact Seller</h2>
                <button id="closeContactModal" class="text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            
            <div id="contactSellerContent">
                <!-- Content will be populated dynamically -->
            </div>
        </div>
    </div>

    <!-- Mobile Menu Overlay -->
    <div id="mobileMenuOverlay" class="mobile-menu-overlay"></div>
    
    <!-- Mobile Menu -->
    <div id="mobileMenu" class="mobile-menu">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-xl font-bold">Menu</h2>
            <button id="closeMobileMenu" class="text-gray-500 hover:text-gray-700">
                <i class="fas fa-times text-xl"></i>
            </button>
        </div>
        
        <div class="space-y-4">
            <a href="home.html" class="block py-2 text-gray-700 hover:text-indigo-600 dark:text-gray-300 dark:hover:text-white font-medium transition">Home</a>
            <a href="#" id="mobileDiscoverLink" class="block py-2 text-gray-700 hover:text-indigo-600 dark:text-gray-300 dark:hover:text-white font-medium transition">Discover</a>
            <a href="#" id="mobileCategoriesLink" class="block py-2 text-gray-700 hover:text-indigo-600 dark:text-gray-300 dark:hover:text-white font-medium transition">Categories</a>
            <a href="#" id="mobileSellersLink" class="block py-2 text-gray-700 hover:text-indigo-600 dark:text-gray-300 dark:hover:text-white font-medium transition">Sellers</a>
            
            <div class="pt-4 border-t border-gray-200 dark:border-slate-600">
                <div class="flex items-center space-x-3 mb-4">
                    <img id="mobileUserAvatar" src="https://ui-avatars.com/api/?name=User&background=6366f1&color=fff&size=40" alt="User" class="w-10 h-10 rounded-full object-cover">
                    <div>
                        <p id="mobileUserName" class="text-sm font-medium text-gray-900 dark:text-white">Loading...</p>
                        <p id="mobileUserStatus" class="text-xs text-gray-500 dark:text-gray-400">Student</p>
                    </div>
                </div>
                
                <div class="space-y-2">
                    <a href="profile.html" class="block py-2 text-gray-700 hover:text-indigo-600 dark:text-gray-300 dark:hover:text-white">Profile</a>
                    <a href="chat.html" class="block py-2 text-gray-700 hover:text-indigo-600 dark:text-gray-300 dark:hover:text-white">Messages</a>
                    <a href="games.html" class="block py-2 text-gray-700 hover:text-indigo-600 dark:text-gray-300 dark:hover:text-white">Games</a>
                    <a href="payment.html" class="block py-2 text-gray-700 hover:text-indigo-600 dark:text-gray-300 dark:hover:text-white">Payment</a>
                    <button id="mobileLogoutBtn" class="block w-full text-left py-2 text-red-600 hover:text-red-800">Logout</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="bg-white shadow-sm border-b dark:bg-slate-800 dark:border-slate-700 sticky top-0 z-50">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center space-x-2">
                    <div class="bg-indigo-600 p-2 rounded-lg">
                        <i class="fas fa-store text-white text-xl"></i>
                    </div>
                    <h1 class="text-xl font-bold text-gray-900 dark:text-white">kynecta Marketplace</h1>
                </div>
                
                <div class="hidden md:flex space-x-6 desktop-nav">
                    <a href="home.html" class="nav-link">Home</a>
                    <a href="#" class="nav-link active" data-section="home">Marketplace</a>
                    <a href="#" class="nav-link" data-section="discover">Discover</a>
                    <a href="#" class="nav-link" data-section="categories">Categories</a>
                    <a href="#" class="nav-link" data-section="sellers">Sellers</a>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="relative hidden md:block">
                        <input type="text" id="searchInput" placeholder="Search products..." class="pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent w-64">
                        <i class="fas fa-search absolute left-3 top-3 text-gray-400"></i>
                        <div id="searchSuggestions" class="absolute top-full left-0 right-0 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg mt-1 shadow-lg z-10 hidden">
                            <!-- Search suggestions will appear here -->
                        </div>
                    </div>
                    
                    <div class="flex items-center space-x-2">
                        <!-- Mood Selector -->
                        <div class="mood-selector hidden md:flex">
                            <div class="mood-option mood-happy active" data-mood="happy" title="Happy"></div>
                            <div class="mood-option mood-calm" data-mood="calm" title="Calm"></div>
                            <div class="mood-option mood-energetic" data-mood="energetic" title="Energetic"></div>
                            <div class="mood-option mood-creative" data-mood="creative" title="Creative"></div>
                        </div>
                        
                        <div class="theme-toggle" id="themeToggle">
                            <div class="theme-toggle-handle"></div>
                        </div>
                        
                        <button id="createListingBtn" class="bg-indigo-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-indigo-700 transition flex items-center space-x-2">
                            <i class="fas fa-plus"></i>
                            <span class="hidden sm:inline">List Item</span>
                        </button>
                        
                        <div class="relative">
                            <button id="cartBtn" class="p-2 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white rounded-full hover:bg-gray-100 dark:hover:bg-slate-700 transition">
                                <i class="fas fa-shopping-cart"></i>
                            </button>
                            <span id="cartCount" class="absolute -top-1 -right-1 bg-indigo-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center hidden">0</span>
                        </div>
                        
                        <div class="relative">
                            <button id="notificationBtn" class="p-2 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white rounded-full hover:bg-gray-100 dark:hover:bg-slate-700 transition">
                                <i class="far fa-bell"></i>
                            </button>
                            <span id="notificationCount" class="absolute -top-1 -right-1 bg-indigo-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center hidden">0</span>
                        </div>
                        
                        <div class="hidden md:flex items-center space-x-2 ml-2">
                            <img id="userAvatar" src="https://ui-avatars.com/api/?name=User&background=6366f1&color=fff&size=40" alt="User" class="w-10 h-10 rounded-full object-cover">
                            <div>
                                <p id="userName" class="text-sm font-medium text-gray-900 dark:text-white">Loading...</p>
                                <p id="userStatus" class="text-xs text-gray-500 dark:text-gray-400">Student</p>
                            </div>
                        </div>
                        
                        <!-- Mobile hamburger menu -->
                        <div class="md:hidden">
                            <div class="hamburger-menu" id="hamburgerMenu">
                                <span></span>
                                <span></span>
                                <span></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Mobile Search Bar -->
            <div class="md:hidden pb-4 mobile-search-container">
                <div class="relative">
                    <input type="text" id="mobileSearchInput" placeholder="Search products..." class="w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent">
                    <i class="fas fa-search absolute left-3 top-3 text-gray-400"></i>
                </div>
                
                <!-- Mobile User Info -->
                <div class="mobile-user-info">
                    <img id="mobileNavUserAvatar" src="https://ui-avatars.com/api/?name=User&background=6366f1&color=fff&size=32" alt="User" class="w-8 h-8 rounded-full object-cover">
                    <div class="mobile-user-details">
                        <p id="mobileNavUserName" class="name">Loading...</p>
                        <p id="mobileNavUserStatus" class="status">Student</p>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-4">
        <!-- Home Dashboard -->
        <div id="homeDashboard" class="dashboard-section active">
            <!-- Hero Section with Carousel -->
            <section class="mb-6">
                <div class="carousel rounded-xl overflow-hidden">
                    <div class="carousel-inner">
                        <div class="carousel-item">
                            <img src="https://images.unsplash.com/photo-1563013544-824ae1b704d3?ixlib=rb-1.2.1&auto=format&fit=crop&w=1200&q=80" alt="Marketplace Banner" class="w-full h-auto">
                            <div class="carousel-caption">
                                <h2 class="responsive-heading font-bold">Welcome to kynecta Marketplace</h2>
                                <p class="responsive-subheading">Buy and sell within your community</p>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <img src="https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?ixlib=rb-1.2.1&auto=format&fit=crop&w=1200&q=80" alt="Hot Deals" class="w-full h-auto">
                            <div class="carousel-caption">
                                <h2 class="responsive-heading font-bold">Hot Deals</h2>
                                <p class="responsive-subheading">Check out our trending items with special discounts</p>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <img src="https://images.unsplash.com/photo-1560472354-b33ff0c44a43?ixlib=rb-1.2.1&auto=format&fit=crop&w=1200&q=80" alt="Flash Sale" class="w-full h-auto">
                            <div class="carousel-caption">
                                <h2 class="responsive-heading font-bold">Flash Sale</h2>
                                <p class="responsive-subheading">Limited time offers with countdown timer</p>
                                <div class="countdown-timer mt-2" id="flashSaleTimer">24:00:00</div>
                            </div>
                        </div>
                    </div>
                    <button class="carousel-control prev">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <button class="carousel-control next">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </section>

            <!-- Stats Section -->
            <section class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6 stats-grid">
                <div class="glass-card p-4 text-center">
                    <div class="text-indigo-600 text-xl font-bold mb-1" id="activeListingsCount">0</div>
                    <div class="text-gray-600 dark:text-gray-400 text-sm">Active Listings</div>
                </div>
                <div class="glass-card p-4 text-center">
                    <div class="text-indigo-600 text-xl font-bold mb-1" id="totalUsersCount">0</div>
                    <div class="text-gray-600 dark:text-gray-400 text-sm">Users</div>
                </div>
                <div class="glass-card p-4 text-center">
                    <div class="text-indigo-600 text-xl font-bold mb-1" id="successfulSalesCount">0</div>
                    <div class="text-gray-600 dark:text-gray-400 text-sm">Successful Sales</div>
                </div>
                <div class="glass-card p-4 text-center">
                    <div class="text-indigo-600 text-xl font-bold mb-1" id="averageRatingCount">0.0</div>
                    <div class="text-gray-600 dark:text-gray-400 text-sm">Avg. Rating</div>
                </div>
            </section>

            <!-- Categories Section (Professional Style) -->
            <section class="mb-6">
                <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-4">Categories</h2>
                <div class="category-grid">
                    <div class="category-card" data-category="electronics">
                        <div class="category-icon">
                            <i class="fas fa-laptop"></i>
                        </div>
                        <h3 class="category-name">Electronics</h3>
                        <p class="category-count">245 items</p>
                    </div>
                    
                    <div class="category-card" data-category="phones">
                        <div class="category-icon">
                            <i class="fas fa-mobile-alt"></i>
                        </div>
                        <h3 class="category-name">Phones & Tablets</h3>
                        <p class="category-count">189 items</p>
                    </div>
                    
                    <div class="category-card" data-category="fashion">
                        <div class="category-icon">
                            <i class="fas fa-tshirt"></i>
                        </div>
                        <h3 class="category-name">Fashion</h3>
                        <p class="category-count">312 items</p>
                    </div>
                    
                    <div class="category-card" data-category="home">
                        <div class="category-icon">
                            <i class="fas fa-home"></i>
                        </div>
                        <h3 class="category-name">Home & Office</h3>
                        <p class="category-count">156 items</p>
                    </div>
                    
                    <div class="category-card" data-category="books">
                        <div class="category-icon">
                            <i class="fas fa-book"></i>
                        </div>
                        <h3 class="category-name">Books & Media</h3>
                        <p class="category-count">98 items</p>
                    </div>
                    
                    <div class="category-card" data-category="sports">
                        <div class="category-icon">
                            <i class="fas fa-basketball-ball"></i>
                        </div>
                        <h3 class="category-name">Sports</h3>
                        <p class="category-count">76 items</p>
                    </div>
                </div>
            </section>

            <!-- Flash Sales Section (Jumia Style) -->
            <section class="mb-6">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-xl font-bold text-gray-900 dark:text-white">Flash Sales</h2>
                    <a href="#" class="text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 font-medium">See All</a>
                </div>
                <div class="flex items-center mb-4">
                    <span class="text-sm text-gray-600 dark:text-gray-400 mr-2">Ends in:</span>
                    <div class="countdown-timer" id="flashSaleCountdown">06h : 19m : 55s</div>
                </div>
                <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 product-grid" id="flashSalesContainer">
                    <!-- Flash sale items will be loaded here -->
                    <div class="col-span-full text-center py-4">
                        <div class="loading-spinner mx-auto mb-2" style="width: 30px; height: 30px;"></div>
                        <p class="text-gray-500 dark:text-gray-400">Loading flash sales...</p>
                    </div>
                </div>
            </section>

            <!-- Trending Items Section -->
            <section class="mb-6">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-xl font-bold text-gray-900 dark:text-white">Trending Items</h2>
                    <a href="#" class="text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 font-medium">View All</a>
                </div>
                <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 product-grid" id="trendingItemsContainer">
                    <div class="col-span-full text-center py-4">
                        <div class="loading-spinner mx-auto mb-2" style="width: 30px; height: 30px;"></div>
                        <p class="text-gray-500 dark:text-gray-400">Loading trending items...</p>
                    </div>
                </div>
            </section>

            <!-- Recommended For You -->
            <section class="mb-6">
                <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-4">Recommended For You</h2>
                <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 product-grid" id="recommendedContainer">
                    <div class="col-span-full text-center py-4">
                        <div class="loading-spinner mx-auto mb-2" style="width: 30px; height: 30px;"></div>
                        <p class="text-gray-500 dark:text-gray-400">Loading recommendations...</p>
                    </div>
                </div>
            </section>

            <!-- Recently Viewed (Jumia Style) -->
            <section class="mb-6">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-xl font-bold text-gray-900 dark:text-white">Recently Viewed</h2>
                    <button id="clearRecentlyViewed" class="text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 font-medium">Clear All</button>
                </div>
                <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 product-grid" id="recentlyViewedContainer">
                    <!-- Recently viewed items will be loaded here -->
                    <div class="col-span-full text-center py-4">
                        <p class="text-gray-500 dark:text-gray-400">No recently viewed items</p>
                    </div>
                </div>
            </section>

            <!-- All Listings Section -->
            <section class="mb-8">
                <div class="flex flex-wrap justify-between items-center mb-6">
                    <div class="tab-buttons-container">
                        <div class="tab-buttons-scroll">
                            <button class="tab-button active" data-category="all">All Listings</button>
                            <button class="tab-button" data-category="electronics">Electronics</button>
                            <button class="tab-button" data-category="textbooks">Textbooks</button>
                            <button class="tab-button" data-category="furniture">Furniture</button>
                            <button class="tab-button" data-category="clothing">Clothing</button>
                            <button class="tab-button" data-category="services">Services</button>
                        </div>
                    </div>

                    <div class="flex items-center space-x-4 mt-4 md:mt-0">
                        <div class="flex items-center space-x-2">
                            <button id="gridViewBtn" class="p-2 border border-gray-300 dark:border-slate-600 rounded-lg text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white bg-indigo-50 dark:bg-indigo-900/20">
                                <i class="fas fa-th-large"></i>
                            </button>
                            <button id="listViewBtn" class="p-2 border border-gray-300 dark:border-slate-600 rounded-lg text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white">
                                <i class="fas fa-list"></i>
                            </button>
                        </div>
                        
                        <select id="sortFilter" class="border border-gray-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent">
                            <option value="newest">Newest First</option>
                            <option value="oldest">Oldest First</option>
                            <option value="price-low">Price: Low to High</option>
                            <option value="price-high">Price: High to Low</option>
                            <option value="popular">Most Popular</option>
                        </select>
                    </div>
                </div>

                <!-- Filters -->
                <div class="glass-card p-4 mb-6">
                    <div class="flex flex-col md:flex-row flex-wrap gap-4 items-start md:items-center filter-controls">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Price Range</label>
                            <div class="flex items-center space-x-2">
                                <input type="number" id="minPrice" placeholder="Min" class="w-20 border border-gray-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg px-3 py-1 focus:outline-none focus:ring-1 focus:ring-indigo-500">
                                <span class="text-gray-500">-</span>
                                <input type="number" id="maxPrice" placeholder="Max" class="w-20 border border-gray-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg px-3 py-1 focus:outline-none focus:ring-1 focus:ring-indigo-500">
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Seller Rating</label>
                            <select id="sellerRatingFilter" class="border border-gray-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg px-3 py-1 focus:outline-none focus:ring-1 focus:ring-indigo-500">
                                <option value="any">Any Rating</option>
                                <option value="4.5">4.5+ Stars</option>
                                <option value="4.0">4.0+ Stars</option>
                                <option value="3.5">3.5+ Stars</option>
                                <option value="3.0">3.0+ Stars</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Location</label>
                            <select id="locationFilter" class="border border-gray-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg px-3 py-1 focus:outline-none focus:ring-1 focus:ring-indigo-500">
                                <option value="any">Any Location</option>
                                <option value="campus">On Campus</option>
                                <option value="downtown">Downtown</option>
                                <option value="suburbs">Suburbs</option>
                            </select>
                        </div>
                        
                        <div class="filter-buttons">
                            <button id="applyFilters" class="bg-indigo-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-indigo-700 transition">Apply Filters</button>
                            <button id="clearFilters" class="bg-gray-300 dark:bg-slate-600 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-lg font-semibold hover:bg-gray-400 dark:hover:bg-slate-500 transition">Clear</button>
                        </div>
                    </div>
                </div>

                <!-- Product Grid/List -->
                <div id="listingsContainer" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 product-grid">
                    <div class="col-span-full text-center py-12">
                        <div class="loading-spinner mx-auto mb-4" style="width: 40px; height: 40px;"></div>
                        <p class="text-gray-500 dark:text-gray-400">Loading listings...</p>
                    </div>
                </div>

                <!-- Load More Button -->
                <div class="text-center mt-8">
                    <button id="loadMoreBtn" class="bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 px-6 py-3 rounded-lg font-semibold hover:bg-gray-50 dark:hover:bg-slate-700 transition hidden">
                        Load More Listings
                    </button>
                </div>
            </section>
        </div>

        <!-- Discover Dashboard -->
        <div id="discoverDashboard" class="dashboard-section">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-gray-900 dark:text-white">Discover</h2>
                <div class="flex space-x-4">
                    <button id="refreshDiscover" class="bg-indigo-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-indigo-700 transition">
                        <i class="fas fa-sync-alt mr-2"></i>Refresh
                    </button>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                <div class="glass-card p-6 text-center cursor-pointer hover-lift" id="hotDealsCard">
                    <i class="fas fa-fire text-4xl text-red-500 mb-4"></i>
                    <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-2">Hot Deals</h3>
                    <p class="text-gray-600 dark:text-gray-400 mb-4">Discover the most popular items with special discounts</p>
                    <button class="bg-indigo-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-indigo-700 transition w-full">
                        Explore Hot Deals
                    </button>
                </div>
                
                <div class="glass-card p-6 text-center cursor-pointer hover-lift" id="topRatedCard">
                    <i class="fas fa-star text-4xl text-yellow-500 mb-4"></i>
                    <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-2">Top Rated</h3>
                    <p class="text-gray-600 dark:text-gray-400 mb-4">Find items with the highest ratings from our community</p>
                    <button class="bg-indigo-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-indigo-700 transition w-full">
                        View Top Rated
                    </button>
                </div>
                
                <div class="glass-card p-6 text-center cursor-pointer hover-lift" id="justAddedCard">
                    <i class="fas fa-bolt text-4xl text-purple-500 mb-4"></i>
                    <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-2">Just Added</h3>
                    <p class="text-gray-600 dark:text-gray-400 mb-4">Check out the newest listings in our marketplace</p>
                    <button class="bg-indigo-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-indigo-700 transition w-full">
                        See New Listings
                    </button>
                </div>
            </div>

            <div class="mb-8">
                <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-4">Featured Collections</h3>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
                    <div class="glass-card p-4 text-center cursor-pointer hover-lift" data-category="electronics">
                        <img src="https://images.unsplash.com/photo-1526170375885-4d8ecf77b99f?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" alt="Electronics" class="w-full h-32 object-cover rounded-lg mb-3">
                        <h4 class="font-semibold text-gray-900 dark:text-white">Electronics</h4>
                        <p class="text-sm text-gray-600 dark:text-gray-400">Latest gadgets and devices</p>
                    </div>
                    
                    <div class="glass-card p-4 text-center cursor-pointer hover-lift" data-category="fashion">
                        <img src="https://images.unsplash.com/photo-1548036328-c9fa89d128fa?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" alt="Fashion" class="w-full h-32 object-cover rounded-lg mb-3">
                        <h4 class="font-semibold text-gray-900 dark:text-white">Fashion</h4>
                        <p class="text-sm text-gray-600 dark:text-gray-400">Trendy clothes and accessories</p>
                    </div>
                    
                    <div class="glass-card p-4 text-center cursor-pointer hover-lift" data-category="home">
                        <img src="https://images.unsplash.com/photo-1586023492125-27b2c045efd7?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" alt="Home" class="w-full h-32 object-cover rounded-lg mb-3">
                        <h4 class="font-semibold text-gray-900 dark:text-white">Home & Living</h4>
                        <p class="text-sm text-gray-600 dark:text-gray-400">Furniture and home essentials</p>
                    </div>
                    
                    <div class="glass-card p-4 text-center cursor-pointer hover-lift" data-category="books">
                        <img src="https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" alt="Books" class="w-full h-32 object-cover rounded-lg mb-3">
                        <h4 class="font-semibold text-gray-900 dark:text-white">Books & Media</h4>
                        <p class="text-sm text-gray-600 dark:text-gray-400">Textbooks and entertainment</p>
                    </div>
                </div>
            </div>

            <div>
                <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-4">Discover New Items</h3>
                <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 product-grid" id="discoverItemsContainer">
                    <div class="col-span-full text-center py-8">
                        <div class="loading-spinner mx-auto mb-4" style="width: 40px; height: 40px;"></div>
                        <p class="text-gray-500 dark:text-gray-400">Loading discovery items...</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Categories Dashboard -->
        <div id="categoriesDashboard" class="dashboard-section">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-gray-900 dark:text-white">All Categories</h2>
                <div class="relative">
                    <input type="text" id="categorySearch" placeholder="Search categories..." class="pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent w-64">
                    <i class="fas fa-search absolute left-3 top-3 text-gray-400"></i>
                </div>
            </div>

            <div class="category-grid mb-8">
                <div class="category-card" data-category="electronics">
                    <div class="category-icon">
                        <i class="fas fa-laptop"></i>
                    </div>
                    <h3 class="category-name">Electronics</h3>
                    <p class="category-count">245 items</p>
                </div>
                
                <div class="category-card" data-category="phones">
                    <div class="category-icon">
                        <i class="fas fa-mobile-alt"></i>
                    </div>
                    <h3 class="category-name">Phones & Tablets</h3>
                    <p class="category-count">189 items</p>
                </div>
                
                <div class="category-card" data-category="fashion">
                    <div class="category-icon">
                        <i class="fas fa-tshirt"></i>
                    </div>
                    <h3 class="category-name">Fashion</h3>
                    <p class="category-count">312 items</p>
                </div>
                
                <div class="category-card" data-category="home">
                    <div class="category-icon">
                        <i class="fas fa-home"></i>
                    </div>
                    <h3 class="category-name">Home & Office</h3>
                    <p class="category-count">156 items</p>
                </div>
                
                <div class="category-card" data-category="health">
                    <div class="category-icon">
                        <i class="fas fa-heartbeat"></i>
                    </div>
                    <h3 class="category-name">Health & Beauty</h3>
                    <p class="category-count">98 items</p>
                </div>
                
                <div class="category-card" data-category="sports">
                    <div class="category-icon">
                        <i class="fas fa-basketball-ball"></i>
                    </div>
                    <h3 class="category-name">Sports</h3>
                    <p class="category-count">76 items</p>
                </div>
                
                <div class="category-card" data-category="books">
                    <div class="category-icon">
                        <i class="fas fa-book"></i>
                    </div>
                    <h3 class="category-name">Books & Media</h3>
                    <p class="category-count">134 items</p>
                </div>
                
                <div class="category-card" data-category="gaming">
                    <div class="category-icon">
                        <i class="fas fa-gamepad"></i>
                    </div>
                    <h3 class="category-name">Gaming</h3>
                    <p class="category-count">87 items</p>
                </div>
                
                <div class="category-card" data-category="automotive">
                    <div class="category-icon">
                        <i class="fas fa-car"></i>
                    </div>
                    <h3 class="category-name">Automotive</h3>
                    <p class="category-count">54 items</p>
                </div>
                
                <div class="category-card" data-category="pets">
                    <div class="category-icon">
                        <i class="fas fa-paw"></i>
                    </div>
                    <h3 class="category-name">Pets</h3>
                    <p class="category-count">43 items</p>
                </div>
                
                <div class="category-card" data-category="baby">
                    <div class="category-icon">
                        <i class="fas fa-baby"></i>
                    </div>
                    <h3 class="category-name">Baby Products</h3>
                    <p class="category-count">32 items</p>
                </div>
                
                <div class="category-card" data-category="grocery">
                    <div class="category-icon">
                        <i class="fas fa-shopping-basket"></i>
                    </div>
                    <h3 class="category-name">Grocery</h3>
                    <p class="category-count">67 items</p>
                </div>
            </div>

            <div>
                <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-4">Popular in Categories</h3>
                <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 product-grid" id="categoryItemsContainer">
                    <div class="col-span-full text-center py-8">
                        <div class="loading-spinner mx-auto mb-4" style="width: 40px; height: 40px;"></div>
                        <p class="text-gray-500 dark:text-gray-400">Select a category to view items</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sellers Dashboard -->
        <div id="sellersDashboard" class="dashboard-section">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-gray-900 dark:text-white">Top Sellers</h2>
                <div class="flex space-x-4">
                    <button id="refreshSellers" class="bg-indigo-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-indigo-700 transition">
                        <i class="fas fa-sync-alt mr-2"></i>Refresh
                    </button>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8" id="sellersContainer">
                <div class="col-span-full text-center py-8">
                    <div class="loading-spinner mx-auto mb-4" style="width: 40px; height: 40px;"></div>
                    <p class="text-gray-500 dark:text-gray-400">Loading sellers...</p>
                </div>
            </div>

            <div>
                <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-4">Seller Statistics</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8">
                    <div class="glass-card p-4 text-center">
                        <div class="text-indigo-600 text-xl font-bold mb-1" id="totalSellersCount">0</div>
                        <div class="text-gray-600 dark:text-gray-400 text-sm">Total Sellers</div>
                    </div>
                    <div class="glass-card p-4 text-center">
                        <div class="text-indigo-600 text-xl font-bold mb-1" id="verifiedSellersCount">0</div>
                        <div class="text-gray-600 dark:text-gray-400 text-sm">Verified Sellers</div>
                    </div>
                    <div class="glass-card p-4 text-center">
                        <div class="text-indigo-600 text-xl font-bold mb-1" id="activeSellersCount">0</div>
                        <div class="text-gray-600 dark:text-gray-400 text-sm">Active Sellers</div>
                    </div>
                    <div class="glass-card p-4 text-center">
                        <div class="text-indigo-600 text-xl font-bold mb-1" id="topRatedSellersCount">0</div>
                        <div class="text-gray-600 dark:text-gray-400 text-sm">Top Rated Sellers</div>
                    </div>
                </div>
            </div>

            <div>
                <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-4">Recently Joined Sellers</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="recentSellersContainer">
                    <div class="col-span-full text-center py-8">
                        <p class="text-gray-500 dark:text-gray-400">No recent sellers to display</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Bottom Navigation (Jumia Style) -->
    <div class="bottom-nav md:hidden">
        <a href="home.html" class="bottom-nav-item">
            <i class="fas fa-home"></i>
            <span>Home</span>
        </a>
        <a href="#" class="bottom-nav-item" data-section="categories">
            <i class="fas fa-th-large"></i>
            <span>Categories</span>
        </a>
        <a href="#" class="bottom-nav-item" data-section="discover">
            <i class="fas fa-compass"></i>
            <span>Discover</span>
        </a>
        <a href="#" class="bottom-nav-item" data-section="sellers">
            <i class="fas fa-store"></i>
            <span>Sellers</span>
        </a>
        <a href="profile.html" class="bottom-nav-item">
            <i class="fas fa-user"></i>
            <span>Account</span>
        </a>
    </div>

    <!-- Create Listing Modal -->
    <div id="createListingModal" class="modal">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-gray-900 dark:text-white">Create New Listing</h2>
                <button id="closeCreateModal" class="text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            
            <form id="createListingForm">
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Product Title *</label>
                    <input type="text" id="listingTitle" class="w-full border border-gray-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent" placeholder="e.g. Calculus Textbook 8th Edition" required>
                </div>
                <!-- Add this after the category field in the create listing form -->
<div class="mb-4">
    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Location *</label>
    <select id="listingLocation" class="w-full border border-gray-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent" required>
        <option value="">Select your location</option>
        <option value="campus">On Campus</option>
        <option value="downtown">Downtown</option>
        <option value="suburbs">Suburbs</option>
        <option value="north">North Area</option>
        <option value="south">South Area</option>
        <option value="east">East Area</option>
        <option value="west">West Area</option>
    </select>
</div>
                
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Description *</label>
                    <textarea rows="4" id="listingDescription" class="w-full border border-gray-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent" placeholder="Describe your item..." required></textarea>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Price ($) *</label>
                        <input type="number" id="listingPrice" class="w-full border border-gray-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent" placeholder="0.00" min="0" step="0.01" required>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Category *</label>
                        <select id="listingCategory" class="w-full border border-gray-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent">
                            <option value="electronics">Electronics</option>
                            <option value="textbooks">Textbooks</option>
                            <option value="furniture">Furniture</option>
                            <option value="clothing">Clothing</option>
                            <option value="services">Services</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                </div>
                
                <!-- Contact Information Section -->
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Contact Information *</label>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm text-gray-600 dark:text-gray-400 mb-1">Phone Number *</label>
                            <input type="tel" id="sellerPhone" class="w-full border border-gray-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent" placeholder="+1 (555) 123-4567" required>
                        </div>
                        
                        <div>
                            <label class="block text-sm text-gray-600 dark:text-gray-400 mb-1">Preferred Contact Method *</label>
                            <div class="flex flex-wrap gap-4">
                                <label class="flex items-center">
                                    <input type="radio" name="contactMethod" value="phone" class="h-4 w-4 text-indigo-600 focus:ring-indigo-500" checked>
                                    <span class="ml-2 text-gray-700 dark:text-gray-300">Phone Call</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="contactMethod" value="whatsapp" class="h-4 w-4 text-indigo-600 focus:ring-indigo-500">
                                    <span class="ml-2 text-gray-700 dark:text-gray-300">WhatsApp</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="contactMethod" value="message" class="h-4 w-4 text-indigo-600 focus:ring-indigo-500">
                                    <span class="ml-2 text-gray-700 dark:text-gray-300">Message</span>
                                </label>
                            </div>
                        </div>
                        
                        <!-- Payment Method Indicator -->
                        <div class="bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4">
                            <div class="flex items-center">
                                <i class="fas fa-money-bill-wave text-green-500 mr-2"></i>
                                <span class="font-semibold text-green-800 dark:text-green-200">Payment Method: Pay on Delivery</span>
                            </div>
                            <p class="text-green-700 dark:text-green-300 text-sm mt-1">
                                Buyers will contact you directly to arrange payment upon delivery
                            </p>
                        </div>
                    </div>
                </div>
                
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Condition *</label>
                    <div class="flex flex-wrap gap-4">
                        <label class="flex items-center">
                            <input type="radio" name="condition" value="new" class="h-4 w-4 text-indigo-600 focus:ring-indigo-500" checked>
                            <span class="ml-2 text-gray-700 dark:text-gray-300">New</span>
                        </label>
                        <label class="flex items-center">
                            <input type="radio" name="condition" value="like-new" class="h-4 w-4 text-indigo-600 focus:ring-indigo-500">
                            <span class="ml-2 text-gray-700 dark:text-gray-300">Like New</span>
                        </label>
                        <label class="flex items-center">
                            <input type="radio" name="condition" value="good" class="h-4 w-4 text-indigo-600 focus:ring-indigo-500">
                            <span class="ml-2 text-gray-700 dark:text-gray-300">Good</span>
                        </label>
                        <label class="flex items-center">
                            <input type="radio" name="condition" value="fair" class="h-4 w-4 text-indigo-600 focus:ring-indigo-500">
                            <span class="ml-2 text-gray-700 dark:text-gray-300">Fair</span>
                        </label>
                    </div>
                </div>
                
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Tags</label>
                    <input type="text" id="listingTags" class="w-full border border-gray-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent" placeholder="Add tags (comma separated)">
                    <div id="tagSuggestions" class="mt-2">
                        <!-- Tag suggestions will appear here -->
                    </div>
                </div>
                
                <div class="mb-6">
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Product Images</label>
                    <div class="image-upload-area" id="imageUploadArea">
                        <i class="fas fa-cloud-upload-alt text-3xl text-gray-400 mb-2"></i>
                        <p class="text-gray-600 dark:text-gray-400 mb-2">Drag & drop images here or click to browse</p>
                        <button type="button" id="browseImagesBtn" class="bg-indigo-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-indigo-700 transition">Browse Files</button>
                        <input type="file" id="listingImages" multiple accept="image/*" class="hidden">
                        <p class="text-xs text-gray-500 dark:text-gray-400 mt-2">JPEG, PNG up to 5MB each. Max 8 images.</p>
                    </div>
                    <div id="imagePreview" class="image-preview mt-4">
                        <!-- Image previews will appear here -->
                    </div>
                </div>
                
                <!-- Safety Disclaimer -->
                <div class="mb-6">
                    <div class="bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4">
                        <h4 class="font-semibold text-yellow-800 dark:text-yellow-200 mb-2">Safety Guidelines</h4>
                        <ul class="text-yellow-700 dark:text-yellow-300 text-sm space-y-1">
                            <li> Always meet in public places during daylight hours</li>
                            <li> Inspect items thoroughly before payment</li>
                            <li> Never send money in advance</li>
                            <li> Report suspicious activity to campus security</li>
                        </ul>
                        <div class="flex items-center mt-3">
                            <input type="checkbox" id="safetyAgreement" class="h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded" required>
                            <label for="safetyAgreement" class="ml-2 text-sm text-yellow-700 dark:text-yellow-300">
                                I agree to follow these safety guidelines
                            </label>
                        </div>
                    </div>
                </div>
                
                <div class="flex flex-col sm:flex-row justify-end space-y-4 sm:space-y-0 sm:space-x-4">
                    <button type="button" id="cancelCreateListing" class="bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 px-6 py-3 rounded-lg font-semibold hover:bg-gray-50 dark:hover:bg-slate-700 transition">Cancel</button>
                    <button type="submit" class="bg-indigo-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-indigo-700 transition flex items-center justify-center space-x-2">
                        <i class="fas fa-plus"></i>
                        <span id="createListingBtnText">Create Listing</span>
                        <div id="createListingSpinner" class="loading-spinner hidden"></div>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Cart Modal -->
    <div id="cartModal" class="modal">
        <div class="modal-content max-w-2xl">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-gray-900 dark:text-white">Your Cart</h2>
                <button id="closeCartModal" class="text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            <div id="cartContent">
                <div class="text-center py-12">
                    <i class="fas fa-shopping-cart text-4xl text-gray-400 mb-4"></i>
                    <h3 class="text-xl font-bold text-gray-700 dark:text-gray-300 mb-2">Your cart is empty</h3>
                    <p class="text-gray-500 dark:text-gray-400">Add some items to get started</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Notifications Modal -->
    <div id="notificationsModal" class="modal">
        <div class="modal-content max-w-2xl">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-gray-900 dark:text-white">Notifications</h2>
                <button id="closeNotificationsModal" class="text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            <div id="notificationsContent">
                <div class="text-center py-12">
                    <i class="far fa-bell text-4xl text-gray-400 mb-4"></i>
                    <h3 class="text-xl font-bold text-gray-700 dark:text-gray-300 mb-2">No notifications</h3>
                    <p class="text-gray-500 dark:text-gray-400">You're all caught up!</p>
                </div>
            </div>
        </div>
    </div>

    <!-- More Categories Modal -->
    <div id="moreCategoriesModal" class="modal">
        <div class="modal-content max-w-2xl">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-gray-900 dark:text-white">All Categories</h2>
                <button id="closeMoreCategoriesModal" class="text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            <div class="grid grid-cols-2 md:grid-cols-3 gap-4" id="moreCategoriesContent">
                <!-- More categories will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Notification Toast -->
    <div id="notificationToast" class="notification">
        <div class="flex justify-between items-start">
            <div>
                <div id="notificationToastTitle" class="font-semibold"></div>
                <div id="notificationToastMessage" class="text-sm mt-1"></div>
            </div>
            <button id="closeNotificationToast" class="text-gray-500 hover:text-gray-700 ml-4">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </div>

    <!-- External JavaScript -->
    <script src="marketplace.js"></script>
</body>
</html>